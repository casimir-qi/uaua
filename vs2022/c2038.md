
## Vs2022
# error LNK2038: 检测到“RuntimeLibrary”的不匹配项 解决方法
https://blog.csdn.net/Strive_For_Future/article/details/134634790

```
error LNK2038: 检测到“RuntimeLibrary”的不匹配项: 值“MD_DynamicRelease”不匹配值“MDd_DynamicDebug” （引用的是release模式，但设置成debug模式了） 

error LNK2038: 检测到“RuntimeLibrary”的不匹配项: 值“MT_StaticRelease”不匹配值“MTd_StaticDebug” （引用的是release模式，但设置成debug模式了） 

error LNK2038: 检测到“RuntimeLibrary”的不匹配项: 值“MT_StaticRelease”不匹配值“MD_DynamicRelease” （引用的是静态库，但设置成动态库了）
```

运行库设置为 /MDd 即可。

 如果错误提示为 mtd_staticdebug 不匹配 mdd_dynamicdebug，将运行库设置为 /MDd 即可。

# error LNK2038: 检测到“_ITERATOR_DEBUG_LEVEL”的不匹配项: 值“0”不匹配值“2”
 https://blog.csdn.net/y601500359/article/details/85629401

剞劂

 多线程(/MT) ：对应的是MD_StaticRelease
 多线程(/MTd)：对应的是MD_StaticDebug
 多线程Dll (/MD) ：对应的是MD_DynamicRelease
 多线程调试Dll (/MDd) ：对应的是MD_DynamicDebug

 静态库不可以在类定义前面加 导出符号

 
 Qt Pro 识别编译器位数
 
 `https://www.cnblogs.com/ybqjymy/p/16731232.html`
 ```
 greaterThan(QT_MAJOR_VERSION,4){
        TARGET_ARCH=$${QT_ARCH}
}else{
        TARGET_ARCH=$${QMAKE_HOST.arch}
}

contains(TARGET_ARCH, x86_64){
        message("64-bit")
}else{
        message("32-bit")
}
 ```


MD_DynamicRelease
MDd_DynamicDebug
https://groups.google.com/g/cantera-users/c/8EVNbfcPl68/m/LgzKWDMhAgAJ?pli=1

```
I seem to have found a interim solution. I basically had 2 kinds of errors:
1.'_ITERATOR_DEBUG_LEVEL': value '0' doesn't match value '2' in kinetics1.obj
2.'RuntimeLibrary': value'MD_DynamicRelease' doesn't match value 'MDd_DynamicDebug' in kinetics1.obj

For the 1st, i edited CmakeLists file to include:
add_definitions(-D_ITERATOR_DEBUG_LEVEL=0)
Instead, I guess, I could have also done it in visual studio as:
Rclk+kinetics1 -> properties -> Configuration Properties -> C/C++ -> Preprocessor -> Preprocessor definitions ->  add text: ITERATION_DEBUG_LEVEL=0

For the 2nd, I edited the configuration properties as
Rclk+kinetics -> properties -> Configuration Properties -> C/C++ -> code generation -> runtime library -> Multi-threaded DLL (/MD)

Nevertheless, since I'm new to C++/visual studio, any better suggestions (for optimizing/speeding up the code) are also appreciated.

```


这是 Qt 在 Windows (MSVC 编译器) 下开发非常经典的问题。

**原因**：您的源代码文件通常保存为 **UTF-8** 编码，但 Windows 的 MSVC 编译器默认按照本地编码 (GBK) 来解析字符串，导致中文字符串在编译时就被“误读”了，最终运行时显示乱码。

这里有两种最简单的解决方法，任选其一即可：

### ✅ 方法一：修改 `.pro` 文件（推荐，一劳永逸）

这是最规范的做法。它告诉编译器强制使用 UTF-8 读取源代码。

打开您的 `.pro` 工程文件，在最后添加下面这行代码：

```qmake
# 强制 MSVC 编译器使用 UTF-8 编码，解决中文乱码
msvc:QMAKE_CXXFLAGS += -/utf-8
```

*注意：修改 `.pro` 文件后，必须**右键项目 -\> 执行 qmake (Run qmake)**，然后**重新构建 (Rebuild)** 项目才会生效。*

-----

### ✅ 方法二：在代码头部添加 `#pragma` 指令

如果您不想改配置文件，可以直接在包含中文的 `.cpp` 文件（例如 `xmlconfigeditor.cpp`）的**最顶端**（任何 `#include` 之前）加上这段代码：

**文件：`xmlconfigeditor.cpp`**

```cpp
// --- 将这段代码放在文件最第一行 ---
#if defined(_MSC_VER) && (_MSC_VER >= 1600)
# pragma execution_character_set("utf-8")
#endif
// ----------------------------------

#include "xmlconfigeditor.h"
#include <QHBoxLayout>
// ... 后面的代码保持不变
```

-----

### ✅ 方法三：使用 `QStringLiteral` (针对特定字符串)

如果只有几个字符串乱码，可以使用 `QStringLiteral` 宏来包裹中文，这样 Qt 会在编译期处理编码。

```cpp
// 原来的写法
QLabel *label = new QLabel("结构树"); 

// 修改后的写法
QLabel *label = new QLabel(QStringLiteral("结构树"));
```

### 💡 建议

建议使用 **方法一** 或 **方法二**。

1.  请尝试在 `xmlconfigeditor.cpp` 的第一行加入 **方法二** 的代码。
2.  然后点击 Qt Creator 左下角的锤子图标（构建）重新运行，中文应该就正常了。